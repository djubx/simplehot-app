# Fastlane Configuration

This directory contains the Fastlane configuration for **simplehot_app**.

## Auto-generated Setup

This configuration was automatically generated by Auto-TestFlight.

## Available Lanes

### beta
Builds and uploads your app to TestFlight:
```bash
fastlane beta
```

This is automatically triggered by GitHub Actions on every push to main/master.

### setup_signing
Helper to set up code signing (requires manual configuration):
```bash
fastlane setup_signing
```

## Code Signing Setup

✅ **Certificate repository:** https://github.com/djubx/ios-certificates  
✅ **Matchfile:** Already configured  
✅ **MATCH_PASSWORD:** Already in GitHub Secrets

**Your Match password was automatically generated based on your repository name.**

The password is deterministic - running setup again will generate the same password.  
This means you can always recover it by re-running the setup process.

To generate certificates, simply run:

```bash
cd ios  # or wherever your Fastfile is located

# Generate certificates and provisioning profiles
fastlane match appstore
# You'll be asked for:
# - Your Apple ID
# - 2FA code
# - Match passphrase (shown in Auto-TestFlight dashboard)
```

**To recover your Match password:**
- Re-run setup in Auto-TestFlight dashboard (generates same password)
- Or check GitHub Secrets: `MATCH_PASSWORD`

See: https://docs.fastlane.tools/actions/match/

## Environment Variables

The following environment variables are used (automatically set by GitHub Actions):

- `ASC_ISSUER_ID` - App Store Connect API Issuer ID
- `ASC_KEY_ID` - App Store Connect API Key ID
- `ASC_API_KEY_PATH` - Path to App Store Connect API key file
- `GITHUB_RUN_NUMBER` - Used as build number
- `GITHUB_SHA` - Commit hash for changelog

## Manual Testing

To test locally before pushing:

```bash
export ASC_ISSUER_ID="your-issuer-id"
export ASC_KEY_ID="your-key-id"
export ASC_API_KEY_PATH="/path/to/AuthKey_XXXXX.p8"

fastlane beta
```

## Troubleshooting

### Code signing issues
- Ensure you have valid certificates in your Apple Developer account
- Set up Fastlane Match for automatic code signing
- Check that provisioning profiles match your bundle ID: com.simplehotApp

### Build issues
- Verify Xcode project builds manually first
- Check that scheme "Runner" is shared
- Ensure all dependencies are properly configured

For more help, see: https://docs.fastlane.tools/
